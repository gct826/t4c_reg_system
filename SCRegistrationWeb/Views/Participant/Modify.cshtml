@model SCRegistrationWeb.Models.ParticipantEntry

@{
    ViewBag.Title = "Modify Participant";
}

<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script> 
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>


@if (ViewBag.Found == false)
{
    <p>@ViewBag.Message</p>
}

@if (ViewBag.Found)
{
    Html.RenderAction("Summary", "Register", new { Id = ViewBag.RegistrationID });

    using (Html.BeginForm())
    {
    @Html.ValidationSummary(true)
    <fieldset>
        <legend>Participant</legend>

        <div id="main-wrapper">
    	    <div class="12u" id="main-content">
	    	    <div class="5grid-layout">
                    <div class="row">
                        <div class="4u">
                            <table>
                                <tr>
                                    <td>
                                        @if (ViewBag.isPage2)
                                        {
                                            <div class="editor-label readonly">
                                                @Html.LabelFor(model => model.FirstName)
                                            </div>
                                            <div class="editor-field readonly">
                                                @Html.TextBoxFor(model => model.FirstName, new { disabled = "disabled", @readonly = "readonly" })
                                                @Html.HiddenFor(model => model.FirstName)
                                            </div>                                            
                                        }
                                        else
                                        {
                                            <div class="editor-label required">
                                                @Html.LabelFor(model => model.FirstName)
                                            </div>
                                            <div class="editor-field">
                                                @Html.ValidationMessageFor(model => model.FirstName)
                                            </div>
                                            <div class="editor-field">
                                                @Html.EditorFor(model => model.FirstName)
                                            </div>                                            
                                        }
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="4u">
                            <table>
                                <tr>
                                    <td>
                                        @if (ViewBag.isPage2)
                                        {
                                            <div class="editor-label readonly">
                                                @Html.LabelFor(model => model.LastName)
                                            </div>
                                            <div class="editor-field readonly">
                                                @Html.TextBoxFor(model => model.LastName, new { disabled = "disabled", @readonly = "readonly" })
                                                @Html.HiddenFor(model => model.LastName)
                                            </div>                                           
                                        }
                                        else
                                        {
                                            <div class="editor-label required">
                                                @Html.LabelFor(model => model.LastName)
                                            </div>
                                            <div class="editor-field">
                                                @Html.ValidationMessageFor(model => model.LastName)
                                            </div>
                                            <div class="editor-field">
                                                @Html.EditorFor(model => model.LastName)
                                            </div>                                            
                                        }
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="4u">
                            <table>
                                <tr>
                                    <td>
                                        @if (ViewBag.isPage2)
                                        {
                                            <div class="editor-label readonly">
                                                @Html.LabelFor(model => model.ChineseName)
                                            </div>
                                            <div class="editor-field readonly">
                                                @Html.TextBoxFor(model => model.ChineseName, new { disabled = "disabled", @readonly = "readonly" })
                                                @Html.HiddenFor(model => model.ChineseName)
                                            </div>
                                        }
                                        else
                                        {
                                            <div class="editor-label">
                                                @Html.LabelFor(model => model.ChineseName)
                                            </div>
                                            <div class="editor-field">
                                                @Html.ValidationMessageFor(model => model.ChineseName)
                                            </div>
                                            <div class="editor-field">
                                                @Html.EditorFor(model => model.ChineseName)
                                            </div>                                            
                                        }
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div class="row">
                        <div class="3u">
                            <table>
                                <tr class="radioselect">
                                    <td>
                                        @if (ViewBag.isPage2)
                                        {
                                            <div class="editor-label readonly">
                                                @Html.LabelFor(model => model.GenderID)
                                            </div>
                                            
                                            <div class="editor-field readonly">
                                                @Html.TextBoxFor(model => model.Genders.Name, new { disabled = "disabled", @readonly = "readonly" })
                                                @Html.HiddenFor(model => model.GenderID)
                                            </div>                                            
                                        }
                                        else
                                        {
                                            <div class="editor-label required">
                                                @Html.LabelFor(model => model.GenderID)
                                            </div>

                                            <div class="editor-field">                                            
                                                @Html.ValidationMessageFor(model => model.GenderID)    
                                            </div>
                                            
                                            foreach (SelectListItem item in @ViewBag.GenderID)
                                            {
                                                <div>
                                                    @Html.RadioButtonFor(model => model.GenderID, item.Value)
                                                    @HttpUtility.HtmlEncode(item.Text)
                                                </div>
                                            }
                                        }                                                                             
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="3u">
                            <table>
                                <tr class="radioselect">
                                    <td>
                                        @if (ViewBag.isPage2)
                                        {
                                            <div class="editor-label readonly">
                                                @Html.LabelFor(model => model.AgeRangeID)
                                            </div>
                                            <div class="editor-field readonly">
                                                @Html.TextBoxFor(model => model.AgeRanges.Name, new { disabled = "disabled", @readonly = "readonly" })
                                                @Html.HiddenFor(model => model.AgeRangeID)
                                            </div>                                        
                                        }
                                        else
                                        {
                                            <div class="editor-label required">
                                                @Html.LabelFor(model => model.AgeRangeID)
                                            </div>
                                            
                                            <div class="editor-field"> 
                                                @Html.ValidationMessageFor(model => model.AgeRangeID)    
                                            </div>

                                            foreach (SelectListItem item in @ViewBag.AgeRangeID)
                                            {
                                                <div class="editor-field">
                                                    @Html.RadioButtonFor(model => model.AgeRangeID, item.Value)
                                                    @HttpUtility.HtmlEncode(item.Text)
                                                </div>
                                            }
                                        }                                                                             
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="3u">
                            <table>
                                <tr class="radioselect">
                                    <td>
                                        @if (ViewBag.isPage2)
                                        {
                                            <div class="editor-label readonly">
                                                @Html.LabelFor(model => model.ServiceID)
                                            </div>
                                            <div class="editor-field readonly">
                                                @Html.TextBoxFor(model => model.Services.Name, new { disabled = "disabled", @readonly = "readonly" })
                                                @Html.HiddenFor(model => model.ServiceID)
                                            </div>                                     
                                        }
                                        else
                                        {
                                            <div class="editor-label required">
                                                @Html.LabelFor(model => model.ServiceID)
                                            </div>
                                            
                                            <div class="editor-field">                                             
                                            @Html.ValidationMessageFor(model => model.ServiceID)
                                            </div>
                                            
                                            foreach (SelectListItem item in @ViewBag.ServiceID)
                                            {
                                                <div>
                                                    @Html.RadioButtonFor(model => model.ServiceID, item.Value)
                                                    @HttpUtility.HtmlEncode(item.Text)
                                                </div>
                                            }
                                        }                                                                             
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="3u">
                            <table>
                                <tr class="radioselect">
                                    <td>
                                        @if (ViewBag.isPage2)
                                        {
                                            <div class="editor-label readonly">
                                                @Html.LabelFor(model => model.RegTypeID)
                                            </div>
                                            <div class="editor-field readonly">
                                                @Html.TextBoxFor(model => model.RegTypes.Name, new { disabled = "disabled", @readonly = "readonly" })
                                                @Html.HiddenFor(model => model.RegTypeID)
                                            </div>                                    
                                        }
                                        else
                                        {
                                             <div class="editor-label required">
                                                @Html.LabelFor(model => model.RegTypeID)
                                            </div>
                                            
                                            <div class="editor-field">                                                
                                            @Html.ValidationMessageFor(model => model.RegTypeID)     
                                            </div>
                                            
                                            foreach (SelectListItem item in @ViewBag.RegTypeID)
                                            {
                                                <div>
                                                    @Html.RadioButtonFor(model => model.RegTypeID, item.Value)
                                                    @HttpUtility.HtmlEncode(item.Text)
                                                </div>
                                            }
                                        }                                                                             
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div class="row">
                        <div class="3u">
                            <table>
                                <tr class="radioselect">
                                    <td>
                                        @if (ViewBag.isPage2)
                                        {
                                            <div class="editor-label">
                                                @Html.LabelFor(model => model.FellowshipID)
                                            </div>
                                            
                                            <div class="editor-field">                                             
                                            @Html.ValidationMessageFor(model => model.FellowshipID)
                                            </div>
                                            
                                            foreach (SelectListItem item in @ViewBag.FellowshipID)
                                            {
                                                <div>
                                                    @Html.RadioButtonFor(model => model.FellowshipID, item.Value)
                                                    @HttpUtility.HtmlEncode(item.Text) <br />
                                                </div>
                                            }
                                        }
                                        else if(ViewBag.isNew == false)
                                        {
                                            @Html.HiddenFor(model => model.FellowshipID)
                                        }                                                                             
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="3u">
                            <table>
                                <tr class="radioselect">
                                    <td>
                                        @if (ViewBag.isPage2)
                                        {
                                            <div class="editor-label">
                                                @Html.LabelFor(model => model.RoomTypeID)
                                            </div>

                                            <div class="editor-field">                                             
                                            @Html.ValidationMessageFor(model => model.RoomTypeID)
                                            </div>

                                            foreach (SelectListItem item in @ViewBag.RoomTypeID)
                                            {
                                                <div>
                                                    @Html.RadioButtonFor(model => model.RoomTypeID, item.Value)
                                                    @HttpUtility.HtmlEncode(item.Text) <br />
                                                </div>
                                            }
                                        }
                                        else if(ViewBag.isNew == false)
                                        {
                                            @Html.HiddenFor(model => model.RoomTypeID)
                                        }                                                                             
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="3u">
                            <table>
                                <tr class="radioselect">
                                    <td>
                                        @if (ViewBag.isPage2)
                                        {
                                            <div class="editor-label readonly">
                                                @Html.LabelFor(model => model.PartPrice)
                                            </div>
                                            <div class="editor-label large">
                                                @String.Format("{0:C}", @ViewBag.PartPrice)
                                            </div>                                  
                                        }
                                        else
                                        {
                                        }                                                                             
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="3u">
                            <table>
                                <tr class="radioselect">
                                    <td>
                                        @if (ViewBag.isPage2)
                                        {
                                            <input type="button" title="Back" value="Back" onclick="location.href='@Url.Action("Modify", new {RegUID = ViewBag.RegUID, isPage2=false, id = ViewBag.ParticipantID })    '" />
                                            <input type="submit" value="Save" />                                        
                                        }
                                        else
                                        {
                                            <input type="submit" value="Next" />
                                            <input type="button" title="Cancel" value="Cancel" onclick="location.href='@Url.Action("Modify", "Register", new { RegUID = ViewBag.RegUID })    '" />
                                        }                                                                       
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>      
                </div>
            </div>
        </div>
    </fieldset>
    }
}

